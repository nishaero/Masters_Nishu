% !TEX root       = ./type_name.tex
% !TEX program    = pdflatex
% !TEX encoding   = utf-8
% !TEX spellcheck = de_DE_frami
%=======================================================================

\chapter{Router Configuration Content}\label{app:ch:Routerconfig}

In this Appendix \nameref{app:ch:Routerconfig}, the reader can find the specifically mentioned configuration for the router.

\section{Wireless configuration}\label{app:sec:wireless_config}
The Wireless configuration parameters set in the \verb|[OpenWrt]| are:
\begin{lstlisting}[frame=single]
config wifi-device 'radio0'
option type 'mac80211'
option channel '11'
option hwmode '11g'
option path 'platform/ar934x_wmac'
option htmode 'HT20'
option txpower '20'
option country 'DE'
option disabled '0'

config wifi-iface
option device 'radio0'
option mode 'ap'
option ssid 'OpenWrt'
option server '192.168.1.169'
option key 'testing123'
option encryption 'wpa2'
option network 'wifi'

config wifi-device 'radio1'
option type 'mac80211'
option channel '36'
option hwmode '11a'
option path 'pci0000:00/0000:00:00.0'
option htmode 'HT20'
option txpower '17'
option country 'DE'

config wifi-iface
option device 'radio1'
option mode 'ap'
option server '192.168.1.169'
option key 'testing123'
option ssid 'OpenWrt 5G'
option encryption 'wpa2'
option network 'wifi'
\end{lstlisting}
\section{Network configuration}\label{app:sec:Network_config}
The Network configuration parameters set in the \verb|[OpenWrt]| are:
\begin{lstlisting}[frame=single]
config interface 'loopback'
option ifname 'lo'
option proto 'static'
option ipaddr '127.0.0.1'
option netmask '255.0.0.0'

config globals 'globals'
option ula_prefix 'fd04:beb4:615d::/48'

config interface 'wan'
option ifname 'eth0.1'
option proto 'dhcp'

config interface 'wan6'
option ifname 'eth0.1'
option proto 'dhcpv6'

config interface 'lan'
option type 'bridge'
option ifname 'eth0.2'
option proto 'static'
option ipaddr '192.168.1.1'
option netmask '255.255.255.0'
option ip6assign '60'

config interface 'wifi'
option type 'bridge'
option ifname 'eth0.3'
option proto 'static'
option ipaddr '192.168.3.1'
option netmask '255.255.255.0'
option ip6assign '60'

config interface 'lan3'
option ifname 'eth0.3'

config interface 'lan4'
option ifname 'eth0.4'

config interface 'lan5'
option ifname 'eth0.5'

config switch
option name 'switch0'
option reset '1'
option enable_vlan '1'

config switch_vlan
option device 'switch0'
option vlan '1'
option ports '1 0t'
option vid '1'

config switch_vlan
option device 'switch0'
option vlan '2'
option ports '2 0t'
option ipaddr '192.168.3.1'
option netmask '255.255.255.0'
option ip6assign '60'

config interface 'lan3'
option ifname 'eth0.3'

config interface 'lan4'
option ifname 'eth0.4'

config interface 'lan5'
option ifname 'eth0.5'

config switch
option name 'switch0'
option reset '1'
option enable_vlan '1'

config switch_vlan
option device 'switch0'
option vlan '1'
option ports '1 0t'
option vid '1'

config switch_vlan
option device 'switch0'
option vlan '2'
option ports '2 0t'
option vid '2'

config switch_vlan
option device 'switch0'
option vlan '3'
option ports '3 0t'
option vid '3'

config switch_vlan
option device 'switch0'
option vlan '4'
option vid '4'
option ports '0t 4'

config switch_vlan
option device 'switch0'
option vlan '5'
option vid '5'
option ports '0t 5'
\end{lstlisting}
\section{DHCP configuration}\label{app:sec:DHCP_config}
The DHCP configuration parameters set in the \verb|[OpenWrt]| are:
\begin{lstlisting}[frame=single]

config dnsmasq
option domainneeded '1'
option boguspriv '1'
option filterwin2k '0'
option localise_queries '1'
option rebind_protection '1'
option rebind_localhost '1'
option local '/lan/'
option domain 'lan'
option expandhosts '1'
option nonegcache '0'
option authoritative '1'
option readethers '1'
option leasefile '/tmp/dhcp.leases'
option resolvfile '/tmp/resolv.conf.auto'
option localservice '1'

config dhcp 'lan'
option interface 'lan'
option start '100'
option limit '150'
option leasetime '12h'
option dhcpv6 'server'
option ra 'server'

config dhcp 'wifi'
option interface 'wifi'
option start '100'
option limit '150'
option leasetime '12h'
option dhcpv6 'server'
option ra 'server'

config dhcp 'wan'
option interface 'wan'
option ignore '1'

config odhcpd 'odhcpd'
option maindhcp '0'
option leasefile '/tmp/hosts/odhcpd'
option leasetrigger '/usr/sbin/odhcpd-update'

config dhcp 'lan4'
option interface 'lan4'
option ignore '1'


\end{lstlisting}

\chapter{RYU Verbose output}\label{app:ch:logs}

In this Appendix, the logs from the \verb|/tmp/log| file have been provided for different log purpose.

\section{RYU log trace}\label{app:sec:RYUlogtrace}

\begin{lstlisting}[frame=single, caption={The RYU Verbose log}, label={lst:RYUverboselog}]
loading app usr_seg.py
loading app ryu.controller.ofp_handler
instantiating app usr_seg.py of SimpleSwitch13
instantiating app ryu.controller.ofp_handler of OFPHandler
BRICK SimpleSwitch13
CONSUMES EventOFPPacketIn
CONSUMES EventOFPSwitchFeatures
BRICK ofp_event
PROVIDES EventOFPPacketIn TO {'SimpleSwitch13': set(['main'])}
PROVIDES EventOFPSwitchFeatures TO {'SimpleSwitch13': set(['config'])}
CONSUMES EventOFPEchoRequest
CONSUMES EventOFPPortStatus
CONSUMES EventOFPEchoReply
CONSUMES EventOFPSwitchFeatures
CONSUMES EventOFPPortDescStatsReply
CONSUMES EventOFPHello
CONSUMES EventOFPErrorMsg
connected socket:<eventlet.greenio.base.GreenSocket object at 0x7f42b40851d0> address:('192.168.1.1', 58461)
hello ev <ryu.controller.ofp_event.EventOFPHello object at 0x7f42b4085a90>
move onto config mode
EVENT ofp_event->SimpleSwitch13 EventOFPSwitchFeatures
switch features ev version=0x4,msg_type=0x6,msg_len=0x20,xid=0xf35c1db1,OFPSwitchFeatures(auxiliary_id=0,capabilities=79,datapath_id=176968783353910,n_buffers=256,n_tables=254)
move onto main mode
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
packet truncated: only 170 of 342 bytes
Timestamp 2017-02-16 12:49:36.274578
Timestamp 2017-02-16 12:49:36.276005
outport_for_src tuple is None
Data is 00:26:9e:e2:b2:f8
packet in 176968783353910 00:26:9e:e2:b2:f8 ff:ff:ff:ff:ff:ff 2
DST is ff:ff:ff:ff:ff:ff
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
Timestamp 2017-02-16 12:49:36.485248
Timestamp 2017-02-16 12:49:36.486536
outport_for_src tuple is None
Data is 00:26:9e:e2:b2:f8
packet in 176968783353910 00:26:9e:e2:b2:f8 ff:ff:ff:ff:ff:ff 2
DST is ff:ff:ff:ff:ff:ff
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
Timestamp 2017-02-16 12:49:36.490576
Timestamp 2017-02-16 12:49:36.491804
outport_for_src tuple is None
Data is 00:26:9e:e2:b2:f8
packet in 176968783353910 00:26:9e:e2:b2:f8 33:33:ff:a2:39:fe 2
DST is 33:33:ff:a2:39:fe
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
Timestamp 2017-02-16 12:49:36.495438
Timestamp 2017-02-16 12:49:36.496494
outport_for_src tuple is None
Data is 00:26:9e:e2:b2:f8
packet in 176968783353910 00:26:9e:e2:b2:f8 33:33:ff:00:07:5c 2
DST is 33:33:ff:00:07:5c
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
Timestamp 2017-02-16 12:49:36.499691
Timestamp 2017-02-16 12:49:36.500575
outport_for_src tuple is None
Data is a0:0b:ba:c9:9e:04
packet in 176968783353910 a0:0b:ba:c9:9e:04 ff:ff:ff:ff:ff:ff 1
DST is ff:ff:ff:ff:ff:ff
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
packet truncated: only 170 of 350 bytes
Timestamp 2017-02-16 12:52:47.115680
Timestamp 2017-02-16 12:52:47.116894
outport_for_src tuple is ('2',)
Data is a0:0b:ba:c9:9e:04
packet in 176968783353910 a0:0b:ba:c9:9e:04 ff:ff:ff:ff:ff:ff 1
DST is ff:ff:ff:ff:ff:ff
Out_Port before else flood condition ('2',)
Setting Out_Port same as in table, changing flow 2
Above actions Out_Port 2
Actions is [OFPActionOutput(len=16,max_len=65509,port=2,type=0)]
Out_Port not flooded adding flow 
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
Data is c8:5b:76:1b:ed:41
packet in 176968783353910 c8:5b:76:1b:ed:41 ff:ff:ff:ff:ff:ff 3
DST is ff:ff:ff:ff:ff:ff
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
Timestamp 2017-02-16 12:53:03.276915
Timestamp 2017-02-16 12:53:03.277904
outport_for_src tuple is None
Data is c8:5b:76:1b:ed:41
packet in 176968783353910 c8:5b:76:1b:ed:41 33:33:00:01:00:03 3
DST is 33:33:00:01:00:03
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
Timestamp 2017-02-16 12:53:03.282229
Timestamp 2017-02-16 12:53:03.283229
outport_for_src tuple is None
Data is c8:5b:76:1b:ed:41
packet in 176968783353910 c8:5b:76:1b:ed:41 01:00:5e:00:00:fb 3
DST is 01:00:5e:00:00:fb
Out_Port before else flood condition None
Out_Port is Flooded 4294967291
Above actions Out_Port 4294967291
Actions is [OFPActionOutput(len=16,max_len=65509,port=4294967291,type=0)]
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
Timestamp 2017-02-16 12:54:32.618185
Timestamp 2017-02-16 12:54:32.619362
outport_for_src tuple is ('3',)
Data is c0:ee:fb:20:41:24
packet in 176968783353910 c0:ee:fb:20:41:24 01:00:5e:00:00:16 1
DST is 01:00:5e:00:00:16
Out_Port before else flood condition ('3',)
Setting Out_Port same as in table, changing flow 3
Above actions Out_Port 3
Actions is [OFPActionOutput(len=16,max_len=65509,port=3,type=0)]
Out_Port not flooded adding flow 
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
Timestamp 2017-02-16 12:54:36.051777
Timestamp 2017-02-16 12:54:36.052886
outport_for_src tuple is ('3',)
Data is c0:ee:fb:20:41:24
packet in 176968783353910 c0:ee:fb:20:41:24 01:00:5e:00:00:fb 1
DST is 01:00:5e:00:00:fb
Out_Port before else flood condition ('3',)
Setting Out_Port same as in table, changing flow 3
Above actions Out_Port 3
Actions is [OFPActionOutput(len=16,max_len=65509,port=3,type=0)]
Out_Port not flooded adding flow 
EVENT ofp_event->SimpleSwitch13 EventOFPPacketIn
Timestamp 2017-02-16 12:55:09.360397
Timestamp 2017-02-16 12:55:09.361360
\end{lstlisting}

